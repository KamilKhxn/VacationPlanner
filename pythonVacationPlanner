def initialize(): #Values for Calculations 
  global airSpeed
  global landSpeed
  global carCostpKm
  global airCostPKm
  global hotelCostPDay
  airSpeed = 700
  landSpeed = 80
  carCostpKm = 0.1
  airCostPKm = 0.3
  hotelCostPDay = 100

def greet(): #Greet the user and get basic info
  print("Welcome to vacation planner.")

def getPersonalInfo():
  global preferedName
  global firstName
  print("What is your first name?")
  firstName = input()
  global lastName
  print("What is your last name?")
  lastName = input()
  global title
  title = ""
  print("What is your prefered title?(if none type nothing)")
  title = input()
  if title == "":
     print("Hello "+ firstName + " this is your vacation planner")
     preferedName = firstName
  else :
     preferedName = title + lastName
     print("Hello "+ str(preferedName) + " this is your vacation planner (please enter correct information)")

def getCountry(): #Get the Country they're traveling to
  global country
  print("What country are you traveling to?")
  country = input()
  from datetime import date
  today = date.today()
  month = today.strftime("%B")
  print(country + " is a great vacation spot in " + month + ".")

def printSeparator(): #blank  lines for easier reading
  print("\n\n")

def getVacationDays(): #Get amount of days traveling for
  global vacationDays
  print("How many days are you vacationing for?")
  vacationDays = float(input())

def getTravelType(): #Get traveling type if it is plane,fly,airplane,car or drive
  global travelType
  print("How are you traveling to your destination?")
  travelType = input()
  firstLetter = travelType[0]
  if firstLetter == "a":
    travelType = "airplane"
  elif firstLetter == "A":
    travelType == "airplane"
  if firstLetter == "f":
    travelType = "airplane"
  elif firstLetter == "F":
    travelType = "airplane"
  if firstLetter == "p":
    travelType = "airplane"
  elif firstLetter == "P":
    travelType = "airplane"
  if firstLetter == "c":
    travelType = "car"
  elif firstLetter == "C":
    travelType = "car"
  if firstLetter == "d":
    travelType = "car"
  elif firstLetter == "D":
    travelType = "car"

  if travelType == "car":
    print("Have a safe drive!")
  elif travelType == "airplane":
    print("Have a nice flight!")

def getFunds():
  global funds
  print("How much are you planning to spend?")
  funds = float(input())
  if funds <= 100:
    print("You do not have enough money!!") 
    exit(0)

def getCurrencySymbol():
  global currencySymbol
  print("What is the currency symbol in the country you're traveling too?")
  currencySymbol = input()

def getConversionFactor():
  global conversionFactor
  print("What is the conversion factor in the country you're traveling to?"
  + "(CAD to " + str(currencySymbol) + ")")
  conversionFactor = float(input())

def getLatitudeLongitudeCoordinatesOrigin():
  global latOrigin
  global longOrigin
  print("Search online for the latitude of a given location in the following format:\r\n" + "\r\n" + "decimal degrees: +40.446 for North and -40.446 for south")
  print("\n what is the Longitude of your origin?")
  longOrigin = float(input())
  print("\n what is the Latitude of your origin?")
  latOrigin = float(input())
  
def getLatitudeLongitudeCoordinatesDestination():
  global latDest
  global longDest
  print("Search online for the latitude of a given location in the following format:\r\n"+ "\r\n" + "decimal degrees: +40.446 for North and -40.446 for south")
  print("\nwhat is the Longitude of your destination?")
  longDest = float(input())
  print("\nwhat is the Laitude of your destination?")
  latDest = float(input())

  
def calculateDistance():
  import math
  global d
  radius = 6371 # km

  dlat = math.radians(latDest-latOrigin)
  dlon = math.radians(longDest-longOrigin)
  a = math.sin(dlat/2) * math.sin(dlat/2) + math.cos(math.radians(latOrigin)) \
        * math.cos(math.radians(latDest)) * math.sin(dlon/2) * math.sin(dlon/2)
  c = 2 * math.atan2(math.sqrt(a), math.sqrt(1-a))
  d = radius * c
  d = round(d,2)
  
def calculateTravelTime():
  global travelTime
  if travelType == "airplane":
    travelTime = d/airSpeed
    travelTime = round(travelTime,2)
  if travelType == "car":
    travelTime = d/landSpeed
    travelTime = round(travelTime,2)

def calculateTravelCost():
  global travelCost
  global hotelCost
  hotelCost = vacationDays*hotelCostPDay

  if travelType == "airplane":
    travelCost = d*airCostPKm
    travelCost = round(travelCost,2)
  if travelType == "car":
    travelCost = d/carCostpKm
    travelCost = round(travelCost,2)

def calculateDailyAllowance():
  global dailyAllowance
  global funds
  funds = funds - travelCost - hotelCost
  dailyAllowance =(funds - travelCost - hotelCost)/vacationDays

def calculateLocalCurrencyAmount():
  global dailyAllowance
  dailyAllowance = dailyAllowance*conversionFactor
  dailyAllowance = round(dailyAllowance,2)

def printMessage():
  if dailyAllowance <=0:
    print("You do not have money leftover for daily alloweance! :(")
  
  print("Dear " + str(preferedName) + ", you will be travelling " + str(d) + " Km in " + str(travelTime) + " hours (return trip)! " + "\nYou will spend " + str(travelCost) + " dollars in travel cost, and " + str(hotelCost) + "." + "\n" + "That means that you will have " +"$" + str(funds) + " " + " which means you'll have " + str(dailyAllowance) + str(currencySymbol) + " per day in " + "funds. "+ "\nThank you and have a nice trip!")
  
    

initialize()
greet()
getPersonalInfo()
printSeparator()
getCountry()
printSeparator()
getVacationDays()
printSeparator()
getTravelType()
printSeparator()
getFunds()
printSeparator()
getCurrencySymbol()
printSeparator()
getConversionFactor()
printSeparator()
getLatitudeLongitudeCoordinatesOrigin()
printSeparator()
getLatitudeLongitudeCoordinatesDestination()
calculateDistance()
calculateTravelTime()
calculateTravelCost()
calculateDailyAllowance()
calculateLocalCurrencyAmount()
printSeparator()
printMessage()
